!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function o(){return Reflect.construct(HTMLElement,[],this.__proto__.constructor)}Object.setPrototypeOf(o.prototype,HTMLElement.prototype),Object.setPrototypeOf(o,HTMLElement);var i=n(1),a=n(2),u=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),n=e,r=n.attachShadow({mode:"open"});return r.innerHTML="<style>"+a+"</style>"+i,n.root=r,e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o),r(t,[{key:"connectedCallback",value:function(){this.init()}},{key:"init",value:function(){this.getDom(),this.imgSrc=this.getAttribute("data-src");var e=decodeURIComponent(this.getAttribute("data-desc"));try{this.descArr=JSON.parse(e),this.renderImg()}catch(e){console.error(e)}}},{key:"getDom",value:function(){this.$imgBox=this.root.querySelector("#freelog-memerender2-wwzh-app")}},{key:"fethchResourcesList",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r="",o="";return""!=t&&(r="&tags="+t),""!=e&&(o="&resourceType="+e),window.FreelogApp.QI.fetch("/v1/presentables?nodeId="+window.__auth_info__.__auth_node_id__+"&isOnline="+n+o+r).then(function(e){return e.json()})}},{key:"fetchResourceDetail",value:function(e,t){return window.FreelogApp.QI.fetch("/v1/auths/presentable/"+e+".info?nodeId="+window.__auth_info__.__auth_node_id__+"&resourceId="+t).then(function(e){return e.json()})}},{key:"renderImg",value:function(){var e=this.getImageHtml(),t=this.getIntroHtml();this.$imgBox.innerHTML="\n      "+e+"\n      "+t+"\n    "}},{key:"getImageHtml",value:function(){return'<image class="meme-img" src="'+this.imgSrc+'" />'}},{key:"getIntroHtml",value:function(){var e=this;return this.descArr.map(function(t){return'\n        <div class="meme-intro" style="'+e.getStyleStr(t)+'">'+t.name+"</div>\n      "}).join(" ")}},{key:"getStyleStr",value:function(e){var t="";for(var n in e)switch(n){case"position":case"size":t+=this.getStyleStr(e[n]);break;case"x":t+="left: "+this.formatStyleValue(e[n])+";";break;case"y":t+="top: "+this.formatStyleValue(e[n])+";";break;case"left":case"right":case"top":case"bottom":case"width":case"height":case"fontSize":if(""==e[n])break;t+=this.formatStyleProp(n)+": "+this.formatStyleValue(e[n])+";";break;case"color":case"textAlign":t+=this.formatStyleProp(n)+": "+e[n]+";"}return t}},{key:"formatStyleProp",value:function(e){return e.replace(/[A-Z]/g,function(e){return"-"+e.toLocaleLowerCase()})}},{key:"formatStyleValue",value:function(e){return/(%|px)$/.test(e)?e:e+"px"}}]),t}();customElements.define("freelog-meme-resource-render",u)},function(e,t){e.exports="<div id=freelog-memerender2-wwzh-app>\n  \n  \n</div>\n"},function(e,t,n){(e.exports=n(3)(!1)).push([e.i,"#freelog-memerender2-wwzh-app{position:relative;width:500px;margin:auto}#freelog-memerender2-wwzh-app .meme-img{display:block;width:100%}#freelog-memerender2-wwzh-app .meme-intro{position:absolute;z-index:10}",""])},function(e,t){e.exports=function(e){var t=[];return t.toString=function(){return this.map(function(t){var n=function(e,t){var n=e[1]||"",r=e[3];if(!r)return n;if(t&&"function"==typeof btoa){var o=(a=r,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(a))))+" */"),i=r.sources.map(function(e){return"/*# sourceURL="+r.sourceRoot+e+" */"});return[n].concat(i).concat([o]).join("\n")}var a;return[n].join("\n")}(t,e);return t[2]?"@media "+t[2]+"{"+n+"}":n}).join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var r={},o=0;o<this.length;o++){var i=this[o][0];"number"==typeof i&&(r[i]=!0)}for(o=0;o<e.length;o++){var a=e[o];"number"==typeof a[0]&&r[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]="("+a[2]+") and ("+n+")"),t.push(a))}},t}}]);
//# sourceMappingURL=freelog-meme-resource-render.js.map